{% extends "base.html" %}
{% load static %}

{% block content %}

    <div id="header-info">
        <h1>Mayor Jackson's 2021 General Fund Proposal</h1>
    </div>

    <div id="budget_visualization"></div>

    <a id="submit_btn" href="/change-the-budget">Change The Budget</a>

    <!-- Modal content-->
    {#    <div id="about-modal" class="modal">#}
    {#        <div class="modal-content">#}
    {#            <span class="close">&times;</span>#}
    <p>The residents of Cleveland have no public input into their city's budget. There are no budget town halls,
        no public comment sessions, no way for the residents of Cleveland to discuss with their leaders what the
        spending priorities should be in their community.</p>
    <p>This project is designed to make the budget for the City of Cleveland easier to understand. Its agenda is
        to make it clear where the money is going, and to provide people with the opportunity to see the
        difference between their budget priorities and their city government’s priorities.</p>
	<p>The <a href=https://www.city.cleveland.oh.us/sites/default/files/forms_publications/2021MayorsEstimate.pdf>mayor's 2021 budget estimate (PDF)</a> is now available. This website examines only the "general fund." Essential parts of life—schools, water, roads, public housing, etc.—each have separate budgets based on different revenue streams that do not compete for funding with the budget items above. Moreover, this project does not examine the legislative or judicial budgets. Determining an appropriate cost for running city council and the court system is complex beyond this project's scope. Instead, the budget captured here is where all the action is. </p>
    <p>Refund Cleveland is a collaborative and community-led effort to design a city budget that centers around
        the values, needs, and priorities of our community. We want to thank <a target="_blank"
                                                                                href="https://www.opencleveland.org/">Open
            Cleveland</a> and all of their
        volunteers for their help and guidance in bringing this project to life. The source code for refundcleveland is available on <a href="https://github.com/opencleveland/refundcleveland">github</a></p>
    {#        </div>#}
    {#    </div>#}


{% endblock content %}

{% block footer_scripts %}



    <!-- Modal -->
    {#    <script>#}
    {#        (function () {#}
    {#            // Fade in the modal#}
    {#            let modal = document.getElementById("about-modal");#}
    {#            modal.style.opacity = 1;#}
    {##}
    {#            // Close the modal on close button click#}
    {#            let span = document.getElementsByClassName("close")[0];#}
    {#            span.onclick = function () {#}
    {#                modal.style.display = "none";#}
    {#            }#}
    {##}
    {#            // Close the modal on a click outside of the modal#}
    {#            window.onclick = function (event) {#}
    {#                if (event.target == modal) {#}
    {#                    modal.style.display = "none";#}
    {#                }#}
    {#            }#}
    {#        })();#}
    {#    </script>#}

    <!-- Load D3.js -->
    <script src="https://d3js.org/d3.v6.min.js"></script>

    {% comment %} Make json data available to external scripts {% endcomment %}
    {{ data | json_script:"json_data" }}

    <!-- Load shared functions -->
    <script src="{% static 'js/shared.js' %}?{% now "U" %}"></script>
    <!-- Load D3 visualizations -->
    <script src="{% static 'js/mayors-budget.js' %}?{% now "U" %}"></script>
    <!-- Load modal popups -->
    <script src="{% static 'js/line-item-modals.js' %}?{% now "U" %}"></script>

{% endblock footer_scripts %}